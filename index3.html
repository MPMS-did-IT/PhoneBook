<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iOS Phonebook</title>
<style>
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background: #f4f6f8;
  }
  .app { height:100vh; display:flex; flex-direction:column; }
  .header {
    padding:16px;
    background:#0b5cff;
    color:white;
    text-align:center;
    font-size:1.2rem;
    font-weight:600;
  }
  .search-container { padding:10px; background:#fff; }
  .search-container input {
    width:100%;
    padding:8px;
    font-size:1rem;
    border:1px solid #ccc;
    border-radius:4px;
  }
  .list { flex:1; overflow-y:auto; -webkit-overflow-scrolling:touch; }
  .contact { padding:14px; border-bottom:1px solid #ddd; cursor:pointer; }
  .contact:hover { background:#f0f4ff; }
  .highlight { background-color:yellow; }
  .toast {
    position:fixed;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    background:#0b5cff;
    color:white;
    padding:10px 20px;
    border-radius:20px;
    display:none;
    font-size:0.9rem;
    z-index:100;
    text-align:center;
  }
</style>
</head>
<body>
<div class="app">
  <div class="header">Phonebook</div>
  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search names...">
  </div>
  <div class="list" id="contactList"></div>
</div>
<div class="toast" id="toast">Extension copied! Open Zoom and paste it.</div>

<script>
// List of contacts
const contactList = [
  {first:"Sarah", last:"Abbey", ext:"9086"},
  {first:"Heather", last:"Amato", ext:"9901"},
  {first:"Nicole", last:"Artiga-Purcell", ext:"9086"},
  {first:"Lindsey", last:"Atkinson", ext:"9032"},
  {first:"Nora", last:"Bailetti", ext:"9962"},
  {first:"Sarah", last:"Baxter", ext:"9065"},
  {first:"Daydra", last:"Bell", ext:"9077"},
  {first:"Kate", last:"Brubaker", ext:"9084"},
  {first:"Riley", last:"Camp", ext:"9901"},
  {first:"Maria", last:"Cardenas", ext:"9047"},
  {first:"Leene", last:"Coleman", ext:"9056"},
  {first:"Lilah", last:"Collins", ext:"9081"},
  {first:"Dwight", last:"Cousin", ext:"9088"},
  {first:"Dave", last:"DeMartini", ext:"9070"},
  {first:"Tammy", last:"Dempsey", ext:"9902"},
  {first:"Mark", last:"DeRango", ext:"8051"},
  {first:"Maria", last:"Diaz", ext:"9065"},
  {first:"Ferenc", last:"Dobronyi", ext:"9038"},
  {first:"Lindsey", last:"Dwyer", ext:"9036"},
  {first:"Lovely", last:"Fernandez", ext:"9033"}
];

// Sort contacts by last name, then first
contactList.sort((a,b)=>{
  if(a.last.toLowerCase() === b.last.toLowerCase()){
    return a.first.toLowerCase().localeCompare(b.first.toLowerCase());
  }
  return a.last.toLowerCase().localeCompare(b.last.toLowerCase());
});

const listEl = document.getElementById("contactList");
const toast = document.getElementById("toast");

// Highlight search matches
function highlightMatch(text, query){
  if(!query) return text;
  const regex = new RegExp(`(${query})`, "gi");
  return text.replace(regex, `<span class="highlight">$1</span>`);
}

// Show toast
function showToast(message){
  toast.textContent = message;
  toast.style.display = "block";
  setTimeout(()=>toast.style.display="none", 2000);
}

// Render contacts
function renderList(filteredContacts, query=""){
  listEl.innerHTML = "";
  filteredContacts.forEach(c=>{
    const div = document.createElement("div");
    div.className = "contact";
    div.innerHTML = highlightMatch(`${c.first} ${c.last} - ${c.ext}`, query);
    div.addEventListener("click", ()=>{
      if(c.ext){
        navigator.clipboard.writeText(c.ext).then(()=>{
          showToast(`Copied ${c.first} ${c.last} - ${c.ext}. Open Zoom and paste.`);
        });
      } else {
        showToast(`No extension available`);
      }
    });
    listEl.appendChild(div);
  });
}

// Initial render
renderList(contactList);

// Search functionality
document.getElementById("searchInput").addEventListener("input", e=>{
  const query = e.target.value.toLowerCase();
  const filtered = contactList.filter(c=>{
    return c.first.toLowerCase().includes(query) || c.last.toLowerCase().includes(query);
  });
  renderList(filtered, query);
});
</script>
</body>
</html>
